<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šæ©Ÿèƒ½ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰é›»å“ | PocketPortal Tools</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=JetBrains+Mono:wght@500&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .calc-display { font-family: 'JetBrains Mono', monospace; }
        .mode-active { background-color: #3b82f6; color: white; border-color: #3b82f6; }
        .btn-sci { display: none; } /* é–¢æ•°é›»å“ç”¨ãƒœã‚¿ãƒ³ã¯åˆæœŸéè¡¨ç¤º */
        .btn-tax { display: none; } /* ç°¿è¨˜ç”¨ãƒœã‚¿ãƒ³ã¯åˆæœŸéè¡¨ç¤º */
    </style>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen flex flex-col">

   <nav class="bg-white border-b border-slate-200 py-4 px-6 sticky top-0 z-50">
    <div class="container mx-auto flex justify-between items-center">
        <a href="../index.html" class="flex items-center gap-2 font-bold text-lg text-blue-700">
            <span>ğŸ </span> PocketPortal
        </a>
        <a href="./index.html" class="text-[10px] text-slate-400 hover:text-blue-500 transition-colors">Webä¾¿åˆ©ãƒ„ãƒ¼ãƒ«é›†ã¸</a>
    </div>
   </nav>

    <main class="flex-grow container mx-auto py-10 px-6 max-w-lg">
        <div class="bg-slate-900 rounded-[2.5rem] shadow-2xl p-6 border-8 border-slate-800">
            
            <div class="flex p-1 bg-slate-800 rounded-2xl mb-6">
                <button onclick="setMode('std')" id="mod-std" class="flex-1 py-2 text-[10px] font-bold rounded-xl border border-transparent transition-all mode-active">é€šå¸¸</button>
                <button onclick="setMode('acc')" id="mod-acc" class="flex-1 py-2 text-[10px] font-bold rounded-xl border border-transparent transition-all text-slate-400">å•†æ¥­ç°¿è¨˜</button>
                <button onclick="setMode('sci')" id="mod-sci" class="flex-1 py-2 text-[10px] font-bold rounded-xl border border-transparent transition-all text-slate-400">é–¢æ•°é›»å“</button>
            </div>

            <div class="bg-slate-100 rounded-2xl p-6 mb-6 text-right overflow-hidden border-inner">
                <div id="prev-val" class="text-slate-400 text-xs min-h-[1rem] mb-1"></div>
                <div id="display" class="calc-display text-4xl font-bold text-slate-800 truncate">0</div>
            </div>

            <div id="btn-grid" class="grid grid-cols-4 gap-3">
                <button onclick="taxCalc('in')" class="btn-tax col-span-2 bg-emerald-600 text-white font-bold py-4 rounded-2xl text-sm">ç¨è¾¼ (10%)</button>
                <button onclick="taxCalc('out')" class="btn-tax col-span-2 bg-emerald-700 text-white font-bold py-4 rounded-2xl text-sm">ç¨æŠœ</button>

                <button onclick="sciFunc('sin')" class="btn-sci bg-slate-700 text-blue-300 font-bold py-3 rounded-2xl text-xs">sin</button>
                <button onclick="sciFunc('cos')" class="btn-sci bg-slate-700 text-blue-300 font-bold py-3 rounded-2xl text-xs">cos</button>
                <button onclick="sciFunc('tan')" class="btn-sci bg-slate-700 text-blue-300 font-bold py-3 rounded-2xl text-xs">tan</button>
                <button onclick="sciFunc('sqrt')" class="btn-sci bg-slate-700 text-blue-300 font-bold py-3 rounded-2xl text-xs">âˆš</button>

                <button onclick="clearAll()" class="bg-orange-500 text-white font-bold py-4 rounded-2xl">AC</button>
                <button onclick="deleteLast()" class="bg-slate-700 text-white font-bold py-4 rounded-2xl">C</button>
                <button onclick="appendOperator('/')" class="bg-slate-700 text-blue-400 font-bold py-4 rounded-2xl">Ã·</button>
                <button onclick="appendOperator('*')" class="bg-slate-700 text-blue-400 font-bold py-4 rounded-2xl">Ã—</button>

                <button onclick="appendNum('7')" class="bg-slate-800 text-white font-bold py-5 rounded-2xl text-xl">7</button>
                <button onclick="appendNum('8')" class="bg-slate-800 text-white font-bold py-5 rounded-2xl text-xl">8</button>
                <button onclick="appendNum('9')" class="bg-slate-800 text-white font-bold py-5 rounded-2xl text-xl">9</button>
                <button onclick="appendOperator('-')" class="bg-slate-700 text-blue-400 font-bold py-4 rounded-2xl">-</button>

                <button onclick="appendNum('4')" class="bg-slate-800 text-white font-bold py-5 rounded-2xl text-xl">4</button>
                <button onclick="appendNum('5')" class="bg-slate-800 text-white font-bold py-5 rounded-2xl text-xl">5</button>
                <button onclick="appendNum('6')" class="bg-slate-800 text-white font-bold py-5 rounded-2xl text-xl">6</button>
                <button onclick="appendOperator('+')" class="bg-slate-700 text-blue-400 font-bold py-4 rounded-2xl">+</button>

                <button onclick="appendNum('1')" class="bg-slate-800 text-white font-bold py-5 rounded-2xl text-xl">1</button>
                <button onclick="appendNum('2')" class="bg-slate-800 text-white font-bold py-5 rounded-2xl text-xl">2</button>
                <button onclick="appendNum('3')" class="bg-slate-800 text-white font-bold py-5 rounded-2xl text-xl">3</button>
                <button onclick="calculate()" class="row-span-2 bg-blue-600 text-white font-bold py-4 rounded-2xl text-2xl">=</button>

                <button onclick="appendNum('0')" class="col-span-2 bg-slate-800 text-white font-bold py-5 rounded-2xl text-xl">0</button>
                <button onclick="appendNum('.')" class="bg-slate-800 text-white font-bold py-5 rounded-2xl text-xl">.</button>
            </div>
        </div>

        <div class="mt-10 p-6 bg-white rounded-3xl border border-slate-200 shadow-sm">
            <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4">Recommended for Professionals</p>
            <a href="https://af.moshimo.com/..." target="_blank" class="block group">
                <div class="flex items-center gap-4 p-4 rounded-2xl bg-slate-50 border border-slate-100 group-hover:border-blue-300 transition-all text-left">
                    <div class="text-3xl">ğŸ§®</div>
                    <div class="flex-1">
                        <p class="text-sm font-bold text-slate-800 mb-1">ã‚«ã‚·ã‚ª æœ¬æ ¼å®Ÿå‹™é›»å“</p>
                        <p class="text-[10px] text-slate-500 leading-tight">ç°¿è¨˜æ¤œå®šã‚„å®Ÿå‹™ã«ã¯ã€ã‚¿ãƒƒãƒæ„Ÿã¨è€ä¹…æ€§ã«å„ªã‚ŒãŸå°‚ç”¨æ©Ÿã‚’ã€‚</p>
                    </div>
                </div>
            </a>
        </div>
    </main>

    <footer class="py-8 text-center text-slate-400 text-[10px]">
        <p>Â© 2024 PocketPortal Tools</p>
    </footer>

    <script>
        let currentVal = '0';
        let prevVal = '';
        let operator = null;

        const display = document.getElementById('display');
        const prevDisplay = document.getElementById('prev-val');

        function setMode(mode) {
            // ãƒ¢ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ«å¤‰æ›´
            ['std', 'acc', 'sci'].forEach(m => {
                document.getElementById(`mod-${m}`).classList.remove('mode-active');
                document.getElementById(`mod-${m}`).classList.add('text-slate-400');
            });
            document.getElementById(`mod-${mode}`).classList.add('mode-active');
            document.getElementById(`mod-${mode}`).classList.remove('text-slate-400');

            // ç‰¹æ®Šãƒœã‚¿ãƒ³ã®è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆ
            document.querySelectorAll('.btn-tax').forEach(b => b.style.display = (mode === 'acc') ? 'block' : 'none');
            document.querySelectorAll('.btn-sci').forEach(b => b.style.display = (mode === 'sci') ? 'block' : 'none');
        }

        function appendNum(n) {
            if (currentVal === '0' && n !== '.') currentVal = n;
            else currentVal += n;
            updateDisplay();
        }

        function appendOperator(op) {
            operator = op;
            prevVal = currentVal;
            currentVal = '0';
            updateDisplay();
        }

        function calculate() {
            let res;
            const p = parseFloat(prevVal);
            const c = parseFloat(currentVal);
            if (isNaN(p) || isNaN(c)) return;

            switch (operator) {
                case '+': res = p + c; break;
                case '-': res = p - c; break;
                case '*': res = p * c; break;
                case '/': res = p / c; break;
                default: return;
            }
            currentVal = res.toString();
            operator = null;
            prevVal = '';
            updateDisplay();
        }

        function taxCalc(type) {
            let val = parseFloat(currentVal);
            if (type === 'in') currentVal = (val * 1.1).toFixed(0);
            else currentVal = (val / 1.1).toFixed(0);
            updateDisplay();
        }

        function sciFunc(type) {
            let val = parseFloat(currentVal);
            let res;
            switch(type) {
                case 'sin': res = Math.sin(val * Math.PI / 180); break;
                case 'cos': res = Math.cos(val * Math.PI / 180); break;
                case 'tan': res = Math.tan(val * Math.PI / 180); break;
                case 'sqrt': res = Math.sqrt(val); break;
            }
            currentVal = res.toFixed(8).replace(/\.?0+$/, "");
            updateDisplay();
        }

        function clearAll() { currentVal = '0'; prevVal = ''; operator = null; updateDisplay(); }
        function deleteLast() { currentVal = currentVal.slice(0, -1) || '0'; updateDisplay(); }

        function updateDisplay() {
            display.innerText = currentVal;
            prevDisplay.innerText = prevVal + (operator || '');
        }
    </script>
</body>

</html>
