<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chat Mock Generator (Unofficial)</title>
  <style>
    :root{
      --bg:#0f172a;
      --text:#e5e7eb;
      --muted:#94a3b8;
      --stroke:rgba(255,255,255,.08);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:18px;
      --font: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic", sans-serif;

      /* ==== theme variables (JS updates these) ==== */
      --chatSolid:#8CABD8;      /* background color default */
      --bubbleLbg:#FFFFFF;      /* left bubble background default */
      --bubbleRbg:#9DE693;      /* right bubble background default */
      --bubbleLtext:#000000;    /* left text default */
      --bubbleRtext:#000000;    /* right text default */
    }

    body{
      margin:0;
      font-family:var(--font);
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 20% 10%, rgba(59,130,246,.20), transparent 60%),
        radial-gradient(900px 600px at 80% 20%, rgba(16,185,129,.12), transparent 55%),
        var(--bg);
    }

    .wrap{
      display:grid;
      grid-template-columns: 360px 1fr;
      gap:16px;
      padding:16px;
      max-width: 1200px;
      margin:0 auto;
    }
    @media (max-width: 960px){
      .wrap{ grid-template-columns: 1fr; }
    }

    .card{
      background: rgba(17,24,39,.92);
      border:1px solid var(--stroke);
      border-radius: 16px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card h2{
      margin:0;
      font-size:14px;
      font-weight:700;
      letter-spacing:.02em;
      padding:12px 14px;
      border-bottom:1px solid var(--stroke);
      background: rgba(2,6,23,.35);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .controls{
      padding:14px;
      display:flex;
      flex-direction:column;
      gap:12px;
      overflow:hidden;
    }
    label{
      font-size:12px;
      color:var(--muted);
      display:block;
      margin-bottom:6px;
    }

    input[type="text"], textarea, select, input[type="date"], input[type="time"]{
      width:100%;
      box-sizing:border-box;
      padding:10px 10px;
      border-radius:12px;
      border:1px solid var(--stroke);
      background: rgba(2,6,23,.45);
      color: var(--text);
      outline:none;
    }
    textarea{ min-height: 80px; resize: vertical; }

    .row{ display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
    .row > div{ min-width:0; }

    .btns{ display:flex; gap:10px; flex-wrap:wrap; }
    button{
      cursor:pointer;
      padding:10px 12px;
      border-radius: 12px;
      border:1px solid var(--stroke);
      background: rgba(59,130,246,.18);
      color:var(--text);
      font-weight:800;
    }
    button.secondary{ background: rgba(148,163,184,.10); }
    button.danger{ background: rgba(239,68,68,.18); }
    small.hint{ color:var(--muted); line-height:1.4; }

    .langbtn{
      padding:8px 10px;
      border-radius: 999px;
      font-size:12px;
      background: rgba(148,163,184,.10);
      white-space:nowrap;
      font-weight:800;
    }

    /* ===== File input (custom) ===== */
    .filewrap{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .fileNative{
      position:absolute;
      width:1px;height:1px;
      opacity:0;
      pointer-events:none;
    }
    .fileBtn{
      flex:0 0 auto;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--stroke);
      background: rgba(148,163,184,.10);
      color: var(--text);
      font-weight:900;
    }
    .fileName{
      flex:1 1 auto;
      min-width:0;
      font-size:12px;
      color: var(--muted);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      padding:6px 0;
    }

    /* group card inside controls */
    .subcard{
      padding:12px;
      border:1px solid rgba(255,255,255,.08);
      border-radius:14px;
      background: rgba(2,6,23,.25);
      display:flex;
      flex-direction:column;
      gap:10px;
    }

    /* ====== phone preview ====== */
    .phone{
      display:flex;
      justify-content:center;
      align-items:flex-start;
      padding:16px;
    }
    .screen{
      width: 390px;
      max-width: 100%;
      background: #0b1220;
      border-radius: 28px;
      border: 1px solid rgba(255,255,255,.12);
      overflow:hidden;
      box-shadow: var(--shadow);
      position:relative;
    }
    .statusbar{
      height: 24px;
      background: rgba(255,255,255,.04);
    }
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 12px 14px;
      background: rgba(255,255,255,.03);
      border-bottom: 1px solid rgba(255,255,255,.06);
      gap:10px;
    }
    .title{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .backMark{
      font-weight:900;
      font-size:16px;
      opacity:.95;
      display:none;
      flex:0 0 auto;
    }
    .avatar{
      width:28px;height:28px;border-radius:50%;
      background: rgba(255,255,255,.12);
      overflow:hidden;
      flex:0 0 auto;
      border:1px solid rgba(255,255,255,.14);
    }
    .avatar img{ width:100%; height:100%; object-fit:cover; display:block; }
    .name{
      font-weight:900;
      font-size:14px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 210px;
    }
    .badge{
      font-size:11px;
      color: rgba(255,255,255,.75);
      border:1px solid rgba(255,255,255,.16);
      padding:4px 8px;
      border-radius: 999px;
      background: rgba(2,6,23,.35);
      white-space:nowrap;
      flex:0 0 auto;
      font-weight:900;
    }

    /* chat background: solid color (chosen) */
    .chatbg{
      background: var(--chatSolid);
      padding: 14px 12px 18px;
      min-height: 620px;
      overflow:auto;
      max-height: 620px;
      position:relative;
    }

    .watermark{
      position:absolute;
      left:12px; right:12px;
      bottom:68px;
      text-align:center;
      font-size:11px;
      color: rgba(255,255,255,.35);
      pointer-events:none;
      user-select:none;
      letter-spacing:.10em;
      text-transform:uppercase;
      z-index:3;
    }

    /* messages */
    .msg{
      display:flex;
      gap:8px;
      margin: 10px 0;
      align-items:flex-end;
    }
    .msg.left{ justify-content:flex-start; }
    .msg.right{ justify-content:flex-end; }

    .miniAvatar{
      width:28px;height:28px;border-radius:50%;
      background: rgba(255,255,255,.12);
      overflow:hidden;
      flex:0 0 auto;
      border:1px solid rgba(255,255,255,.14);
    }
    .miniAvatar img{ width:100%; height:100%; object-fit:cover; display:block; }
    .miniAvatar.spacer{
      background: transparent;
      border:1px solid transparent;
    }

    .metaCol{
      display:flex;
      flex-direction:column;
      gap:2px;
      min-width: 40px;
      white-space:nowrap;
      font-size:10px;
      color: rgba(0,0,0,.55);
      opacity:.9;
      font-weight:800;
    }
    /* left meta should be on right side of bubble */
    .msg.left .metaCol{
      align-items:flex-start;
      margin: 0 2px 2px 6px;
    }
    /* right meta should be on left side of bubble */
    .msg.right .metaCol{
      align-items:flex-end;
      margin: 0 6px 2px 2px;
    }

    .bubble{
      max-width: 78%;
      padding: 10px 12px;
      border-radius: var(--radius);
      border:1px solid rgba(0,0,0,.08);
      line-height:1.35;
      font-size:14px;
      position:relative;
      word-break: break-word;
      overflow-wrap:anywhere;
      font-weight:800;
    }

    /* bubble colors controlled by variables */
    .msg.left .bubble{ background: var(--bubbleLbg); color: var(--bubbleLtext); }
    .msg.right .bubble{ background: var(--bubbleRbg); color: var(--bubbleRtext); }

    .bubble img{
      max-width: 100%;
      border-radius: 14px;
      display:block;
      margin-top:8px;
      border:1px solid rgba(0,0,0,.10);
    }

    .read, .time{ font-size:10px; opacity:.95; }

    /* center label as a message-like item in flow */
    .centerRow{
      display:flex;
      justify-content:center; /* å·¦å³ä¸­å¤® */
      margin: 12px 0;
    }
    .centerPill{
      max-width: 84%;
      text-align:center;
      padding:10px 14px;
      border-radius: 999px;
      font-weight:900;
      font-size:14px;
      letter-spacing:.02em;
      white-space:pre-wrap;
      word-break:break-word;
      overflow-wrap:anywhere;
    }
    .centerPill.layout1{
      background: rgba(107,114,128,.55);
      color:#fff;
      border:1px solid rgba(255,255,255,.18);
      backdrop-filter: blur(3px);
    }
    .centerPill.layout2{
      background: #000;
      color:#fff;
      border:1px solid rgba(255,255,255,.18);
    }

    .composer{
      display:flex;
      gap:10px;
      align-items:center;
      padding: 10px 12px;
      border-top:1px solid rgba(255,255,255,.06);
      background: rgba(2,6,23,.55);
    }
    .pill{
      height: 36px;
      flex: 1 1 auto;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
    }
    .send{
      width: 44px; height: 36px;
      border-radius: 14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(59,130,246,.25);
    }
    .footer-note{
      padding: 8px 12px 12px;
      font-size:11px;
      color: rgba(255,255,255,.45);
    }

    /* header modes */
    .header-mode-back .avatar{ display:none; }
    .header-mode-back .backMark{ display:block; }
    .header-mode-avatar .avatar{ display:block; }
    .header-mode-avatar .backMark{ display:none; }
  </style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9V96DZHTH1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-9V96DZHTH1');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6758339830570094" crossorigin="anonymous"></script>
</head>

<body>
  <nav style="background:var(--bg); border-bottom:1px solid var(--stroke); padding:12px 16px; position:sticky; top:0; z-index:9999; display:flex; align-items:center;">
      <div style="display:flex; justify-content:space-between; align-items:center; width:100%; max-width:1200px; margin:0 auto;">
          <a href="../index.html" style="font-weight:bold; color:#3b82f6; text-decoration:none; display:flex; align-items:center; gap:6px; font-family: sans-serif;">
              <span style="font-size:18px;">ğŸ </span> <span style="font-size:14px; letter-spacing:-0.02em;">PocketPortal</span>
          </a>
          <a href="./index.html" style="font-size:12px; color:var(--muted); font-weight:bold; text-decoration:none; font-family: sans-serif;">ãƒ„ãƒ¼ãƒ«ä¸€è¦§</a>
      </div>
  </nav>
  <div class="wrap">
    <section class="card">
      <h2>
        <span data-i18n="panelTitle">å…¥åŠ›</span>
        <button class="langbtn" id="langToggle" type="button">EN</button>
      </h2>

      <div class="controls">

        <!-- â‘  ãƒˆãƒ¼ã‚¯ç›¸æ‰‹å / è¡¨ç¤º -->
        <div class="subcard">
          <div>
            <label data-i18n="peerNameLabel">ãƒˆãƒ¼ã‚¯ç›¸æ‰‹å</label>
            <input id="peerName" type="text" value="ç›¸æ‰‹" />
          </div>

          <div class="row">
            <div>
              <label data-i18n="headerModeLabel">ç›¸æ‰‹åã®è¡¨ç¤º</label>
              <select id="headerMode">
                <option value="back" data-i18n="headerModeBack">ï¼œ åå‰</option>
                <option value="avatar" data-i18n="headerModeAvatar">ã‚¢ãƒã‚¿ãƒ¼ç”»åƒ åå‰</option>
              </select>
            </div>
            <div>
              <label data-i18n="rightAvatarToggleLabel">å³ã‚¢ãƒã‚¿ãƒ¼è¡¨ç¤º</label>
              <select id="showRightAvatar">
                <option value="off" data-i18n="toggleOff">éè¡¨ç¤º</option>
                <option value="on" data-i18n="toggleOn">è¡¨ç¤º</option>
              </select>
            </div>
          </div>
        </div>

        <!-- â‘¡ ã‚¢ãƒã‚¿ãƒ¼ç”»åƒ -->
        <div class="subcard">
          <div class="row">
            <div>
              <label data-i18n="peerAvatarLabel">å·¦ã‚¢ãƒã‚¿ãƒ¼ç”»åƒ</label>
              <div class="filewrap" data-filewrap="peerAvatar">
                <input id="peerAvatar" class="fileNative" type="file" accept="image/*" />
                <button type="button" class="fileBtn" data-filebtn="peerAvatar">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</button>
                <span class="fileName" data-filename="peerAvatar">é¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“</span>
              </div>
            </div>
            <div>
              <label data-i18n="meAvatarLabel">å³ã‚¢ãƒã‚¿ãƒ¼ç”»åƒ</label>
              <div class="filewrap" data-filewrap="meAvatar">
                <input id="meAvatar" class="fileNative" type="file" accept="image/*" />
                <button type="button" class="fileBtn" data-filebtn="meAvatar">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</button>
                <span class="fileName" data-filename="meAvatar">é¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“</span>
              </div>
            </div>
          </div>
        </div>

        <!-- â‘¢ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ› -->
        <div class="subcard">
          <div class="row">
            <div>
              <label data-i18n="senderLabel">é€ä¿¡è€…</label>
              <select id="side">
                <option value="left" data-i18n="senderLeft">å·¦ï¼ˆç›¸æ‰‹ï¼‰</option>
                <option value="right" data-i18n="senderRight">å³ï¼ˆè‡ªåˆ†ï¼‰</option>
              </select>
            </div>
            <div>
              <label data-i18n="timeLabel">æ™‚åˆ»ï¼ˆä»»æ„ï¼‰</label>
              <input id="time" type="text" placeholder="ä¾‹: 21:07" data-i18n-placeholder="timePlaceholder" />
            </div>
          </div>

          <div>
            <label data-i18n="messageLabel">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</label>
            <textarea id="text" placeholder="æ–‡ç« ã‚’å…¥åŠ›ï¼ˆæ”¹è¡ŒOKï¼‰" data-i18n-placeholder="messagePlaceholder"></textarea>
          </div>

          <div class="row">
            <div>
              <label data-i18n="imageLabel">ç”»åƒï¼ˆä»»æ„ï¼‰</label>
              <div class="filewrap" data-filewrap="img">
                <input id="img" class="fileNative" type="file" accept="image/*" />
                <button type="button" class="fileBtn" data-filebtn="img">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ</button>
                <span class="fileName" data-filename="img">é¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“</span>
              </div>
            </div>
            <div>
              <label data-i18n="readLabel">æ—¢èª­è¡¨ç¤º</label>
              <select id="read">
                <option value="none" data-i18n="readNone">è¡¨ç¤ºã—ãªã„</option>
                <option value="shown" data-i18n="readShown">è¡¨ç¤ºã™ã‚‹ï¼ˆå³ã®ã¿ï¼‰</option>
              </select>
            </div>
          </div>
        </div>

        <!-- â‘£ è¿½åŠ ãƒœã‚¿ãƒ³ -->
        <div class="btns">
          <button id="add" type="button" data-i18n="btnAdd">è¿½åŠ </button>
          <button class="secondary" id="addDivider" type="button" data-i18n="btnDivider">æ™‚åˆ»åŒºåˆ‡ã‚Šã‚’è¿½åŠ </button>
        </div>

        <!-- â‘¤ ç”»é¢ä¸­å¤®ã®æ–‡å­—ï¼ˆ= ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æ‰±ã„ã§ãƒãƒ£ãƒƒãƒˆã«è¿½åŠ ï¼‰ -->
        <div class="subcard">
          <div style="display:flex; align-items:center; justify-content:space-between; gap:10px;">
            <label data-i18n="centerTitle" style="margin:0;">ç”»é¢ä¸­å¤®ã®æ–‡å­—</label>
          </div>

          <div class="row">
            <div>
              <label data-i18n="centerLayoutLabel">ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ</label>
              <select id="centerLayout">
                <option value="1" data-i18n="centerLayout1">â‘  åŠé€æ˜ã‚°ãƒ¬ãƒ¼ / ç™½</option>
                <option value="2" data-i18n="centerLayout2">â‘¡ é»’ / ç™½</option>
              </select>
            </div>
            <div>
              <label data-i18n="centerTemplateLabel">ãƒ†ãƒ³ãƒ—ãƒ¬</label>
              <select id="centerTemplate">
                <option value="1" data-i18n="tpl1">â‘  ä»Šæ—¥</option>
                <option value="2" data-i18n="tpl2">â‘¡ ã€‡æœˆã€‡æ—¥(æœˆ)</option>
                <option value="3" data-i18n="tpl3">â‘¢ å‚åŠ </option>
                <option value="4" data-i18n="tpl4">â‘£ é€€å‡º</option>
                <option value="5" data-i18n="tpl5" selected>â‘¤ ãƒ•ãƒªãƒ¼ãƒ¯ãƒ¼ãƒ‰</option>
              </select>
            </div>
          </div>

          <!-- template inputs -->
          <div id="centerInputs">
            <div id="tplFree">
              <label data-i18n="centerFreeLabel">ãƒ•ãƒªãƒ¼ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›</label>
              <input id="centerFreeText" type="text" placeholder="ä¾‹: ä»Šæ—¥" data-i18n-placeholder="centerFreePh" />
            </div>

            <div id="tplDate" style="display:none;">
              <label data-i18n="centerDateLabel">æ—¥ä»˜</label>
              <input id="centerDate" type="date" />
            </div>

            <div id="tplJoin" style="display:none;">
              <div class="row">
                <div>
                  <label data-i18n="centerTimeLabel">æ™‚é–“</label>
                  <input id="centerJoinTime" type="time" />
                </div>
                <div>
                  <label data-i18n="centerNameLabel">åå‰</label>
                  <input id="centerJoinName" type="text" placeholder="ä¾‹: ç”°ä¸­" data-i18n-placeholder="centerNamePh" />
                </div>
              </div>
            </div>

            <div id="tplLeave" style="display:none;">
              <div class="row">
                <div>
                  <label data-i18n="centerTimeLabel">æ™‚é–“</label>
                  <input id="centerLeaveTime" type="time" />
                </div>
                <div>
                  <label data-i18n="centerNameLabel">åå‰</label>
                  <input id="centerLeaveName" type="text" placeholder="ä¾‹: ç”°ä¸­" data-i18n-placeholder="centerNamePh" />
                </div>
              </div>
            </div>
          </div>

          <div class="btns">
            <button class="secondary" id="applyCenter" type="button" data-i18n="applyCenterBtn">ä¸­å¤®ãƒ†ã‚­ã‚¹ãƒˆåæ˜ </button>
            <button class="secondary" id="clearCenter" type="button" data-i18n="clearCenterBtn">ä¸­å¤®ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå»</button>
          </div>
        </div>

        <!-- â‘¥ è‰²è¨­å®š -->
        <div class="subcard">
          <label data-i18n="colorTitle">è‰²è¨­å®š</label>

          <div class="row">
            <div>
              <label data-i18n="bgColorLabel">èƒŒæ™¯è‰²</label>
              <select id="bgColor">
                <option value="#8CABD8" data-i18n="bgOpt1">é’ç° (#8CABD8)</option>
                <option value="#000000" data-i18n="bgOpt2">é»’ (#000000)</option>
                <option value="#FFFFFF" data-i18n="bgOpt3">ç™½ (#FFFFFF)</option>
              </select>
            </div>
            <div>
              <label data-i18n="leftBubbleLabel">å·¦ã‚³ãƒ¡ãƒ³ãƒˆè‰²</label>
              <select id="leftBubble">
                <option value="#FFFFFF" data-i18n="lbOpt1">ç™½ (#FFFFFF)</option>
                <option value="#000000" data-i18n="lbOpt2">é»’ (#000000)</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div>
              <label data-i18n="rightBubbleLabel">å³ã‚³ãƒ¡ãƒ³ãƒˆè‰²</label>
              <select id="rightBubble">
                <option value="#9DE693" data-i18n="rbOpt1">ç·‘ (#9DE693)</option>
                <option value="#FFFFFF" data-i18n="rbOpt2">ç™½ (#FFFFFF)</option>
              </select>
            </div>
            <div>
              <label data-i18n="leftTextLabel">å·¦æ–‡å­—è‰²</label>
              <select id="leftText">
                <option value="#000000" data-i18n="ltOpt1">é»’ (#000000)</option>
                <option value="#FFFFFF" data-i18n="ltOpt2">ç™½ (#FFFFFF)</option>
              </select>
            </div>
          </div>

          <div class="row">
            <div>
              <label data-i18n="rightTextLabel">å³æ–‡å­—è‰²</label>
              <select id="rightText">
                <option value="#000000" data-i18n="rtOpt1">é»’ (#000000)</option>
                <option value="#FFFFFF" data-i18n="rtOpt2">ç™½ (#FFFFFF)</option>
              </select>
            </div>
            <div></div>
          </div>
        </div>

        <!-- â‘¦ å…¨å‰Šé™¤ -->
        <div class="btns">
          <button class="danger" id="clear" type="button" data-i18n="btnClear">å…¨å‰Šé™¤</button>
        </div>

        <!-- â‘§ PNGæ›¸ãå‡ºã— + æ³¨æ„ -->
        <div class="btns">
          <button class="secondary" id="export" type="button" data-i18n="btnExport">PNGæ›¸ãå‡ºã—</button>
        </div>

        <small class="hint" data-i18n="hint">
          â€»ã“ã‚Œã¯ã€Œéå…¬å¼ã®ãƒˆãƒ¼ã‚¯é¢¨ãƒ¢ãƒƒã‚¯ã€ã§ã™ã€‚æ‚ªç”¨ï¼ˆãªã‚Šã™ã¾ã—ãƒ»å½é€ ãƒ»è©æ¬ºç­‰ï¼‰ã‚’ç›®çš„ã¨ã—ãŸåˆ©ç”¨ã¯ä¸å¯ã€‚<br/>
          å‡ºåŠ›ã«ã¯ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒãƒ¼ã‚¯ãŒå…¥ã‚Šã¾ã™ï¼ˆå›ºå®šï¼‰ã€‚
        </small>
      </div>
    </section>

    <section class="phone">
      <div class="screen" id="capture">
        <div class="statusbar"></div>

        <div class="topbar header-mode-back" id="topbar">
          <div class="title" id="titleArea">
            <div class="backMark" id="backMark">ï¼œ</div>
            <div class="avatar" id="peerAvatarView"></div>
            <div class="name" id="peerNameView">ç›¸æ‰‹</div>
          </div>
          <div class="badge" data-i18n="badge">éå…¬å¼ã‚µãƒ³ãƒ—ãƒ«</div>
        </div>

        <div class="chatbg" id="chat"></div>



        <div class="composer">
          <div class="pill"></div>
          <div class="send"></div>
        </div>
        <div class="footer-note">
  <div data-i18n="footer">Generated by Chat Mock Generator (Unofficial)</div>
</div>
         <div class="w-full flex flex-col items-center mt-8">
            <p class="text-[10px] text-slate-400 mb-2 font-bold uppercase tracking-widest">Sponsor Link</p>
            <div class="bg-white p-1 rounded shadow-sm">
                <script type="text/javascript">rakuten_design="slide";rakuten_affiliateId="022cbf82.9ae811c1.06d2eb59.bd2a4ff3";rakuten_items="ctsmatch";rakuten_genreId="0";rakuten_size="300x250";rakuten_target="_blank";rakuten_theme="gray";rakuten_border="off";rakuten_auto_mode="on";rakuten_genre_title="off";rakuten_recommend="on";rakuten_ts="1770128068587";</script><script type="text/javascript" src="https://xml.affiliate.rakuten.co.jp/widget/js/rakuten_widget.js?20230106"></script>
                </div>
        </div>
      </div>
    </section>
  </div>

  <!-- html2canvasï¼ˆPNGæ›¸ãå‡ºã—ç”¨ï¼‰ -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <script>
    const el = (id)=>document.getElementById(id);

    // ===== i18n =====
    const I18N = {
      ja: {
        panelTitle: "å…¥åŠ›",
        peerNameLabel: "ãƒˆãƒ¼ã‚¯ç›¸æ‰‹å",
        headerModeLabel: "ç›¸æ‰‹åã®è¡¨ç¤º",
        headerModeBack: "ï¼œ åå‰",
        headerModeAvatar: "ã‚¢ãƒã‚¿ãƒ¼ç”»åƒ åå‰",
        rightAvatarToggleLabel: "å³ã‚¢ãƒã‚¿ãƒ¼è¡¨ç¤º",
        toggleOff: "éè¡¨ç¤º",
        toggleOn: "è¡¨ç¤º",

        peerAvatarLabel: "å·¦ã‚¢ãƒã‚¿ãƒ¼ç”»åƒ",
        meAvatarLabel: "å³ã‚¢ãƒã‚¿ãƒ¼ç”»åƒ",

        senderLabel: "é€ä¿¡è€…",
        senderLeft: "å·¦ï¼ˆç›¸æ‰‹ï¼‰",
        senderRight: "å³ï¼ˆè‡ªåˆ†ï¼‰",
        timeLabel: "æ™‚åˆ»ï¼ˆä»»æ„ï¼‰",
        timePlaceholder: "ä¾‹: 21:07",
        messageLabel: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸",
        messagePlaceholder: "æ–‡ç« ã‚’å…¥åŠ›ï¼ˆæ”¹è¡ŒOKï¼‰",
        imageLabel: "ç”»åƒï¼ˆä»»æ„ï¼‰",
        readLabel: "æ—¢èª­è¡¨ç¤º",
        readNone: "è¡¨ç¤ºã—ãªã„",
        readShown: "è¡¨ç¤ºã™ã‚‹ï¼ˆå³ã®ã¿ï¼‰",
        btnAdd: "è¿½åŠ ",
        btnDivider: "æ™‚åˆ»åŒºåˆ‡ã‚Šã‚’è¿½åŠ ",
        btnClear: "å…¨å‰Šé™¤",
        btnExport: "PNGæ›¸ãå‡ºã—",

        colorTitle: "è‰²è¨­å®š",
        bgColorLabel: "èƒŒæ™¯è‰²",
        leftBubbleLabel: "å·¦ã‚³ãƒ¡ãƒ³ãƒˆè‰²",
        rightBubbleLabel: "å³ã‚³ãƒ¡ãƒ³ãƒˆè‰²",
        leftTextLabel: "å·¦æ–‡å­—è‰²",
        rightTextLabel: "å³æ–‡å­—è‰²",

        bgOpt1: "é’ç° (#8CABD8)",
        bgOpt2: "é»’ (#000000)",
        bgOpt3: "ç™½ (#FFFFFF)",
        lbOpt1: "ç™½ (#FFFFFF)",
        lbOpt2: "é»’ (#000000)",
        rbOpt1: "ç·‘ (#9DE693)",
        rbOpt2: "ç™½ (#FFFFFF)",
        ltOpt1: "é»’ (#000000)",
        ltOpt2: "ç™½ (#FFFFFF)",
        rtOpt1: "é»’ (#000000)",
        rtOpt2: "ç™½ (#FFFFFF)",

        centerTitle: "ç”»é¢ä¸­å¤®ã®æ–‡å­—",
        centerLayoutLabel: "ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ",
        centerTemplateLabel: "ãƒ†ãƒ³ãƒ—ãƒ¬",
        centerLayout1: "â‘  åŠé€æ˜ã‚°ãƒ¬ãƒ¼ / ç™½",
        centerLayout2: "â‘¡ é»’ / ç™½",
        tpl1: "â‘  ä»Šæ—¥",
        tpl2: "â‘¡ ã€‡æœˆã€‡æ—¥(æœˆ)",
        tpl3: "â‘¢ å‚åŠ ",
        tpl4: "â‘£ é€€å‡º",
        tpl5: "â‘¤ ãƒ•ãƒªãƒ¼ãƒ¯ãƒ¼ãƒ‰",
        centerFreeLabel: "ãƒ•ãƒªãƒ¼ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›",
        centerFreePh: "ä¾‹: ä»Šæ—¥",
        centerDateLabel: "æ—¥ä»˜",
        centerTimeLabel: "æ™‚é–“",
        centerNameLabel: "åå‰",
        centerNamePh: "ä¾‹: ç”°ä¸­",
        applyCenterBtn: "ä¸­å¤®ãƒ†ã‚­ã‚¹ãƒˆåæ˜ ",
        clearCenterBtn: "ä¸­å¤®ãƒ†ã‚­ã‚¹ãƒˆæ¶ˆå»",

        fileChoose: "ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ",
        fileNone: "é¸æŠã•ã‚Œã¦ã„ã¾ã›ã‚“",

        hint:
          "â€»ã“ã‚Œã¯ã€Œéå…¬å¼ã®ãƒˆãƒ¼ã‚¯é¢¨ãƒ¢ãƒƒã‚¯ã€ã§ã™ã€‚æ‚ªç”¨ï¼ˆãªã‚Šã™ã¾ã—ãƒ»å½é€ ãƒ»è©æ¬ºç­‰ï¼‰ã‚’ç›®çš„ã¨ã—ãŸåˆ©ç”¨ã¯ä¸å¯ã€‚<br/>" +
          "å‡ºåŠ›ã«ã¯ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒãƒ¼ã‚¯ãŒå…¥ã‚Šã¾ã™ï¼ˆå›ºå®šï¼‰ã€‚",
        badge: "éå…¬å¼ã‚µãƒ³ãƒ—ãƒ«",
        watermark: "éå…¬å¼ã‚µãƒ³ãƒ—ãƒ« â€¢ ãƒ‡ãƒ¢ç”¨ â€¢ å®Ÿåœ¨ã®ã‚¢ãƒ—ãƒªç”»é¢ã§ã¯ã‚ã‚Šã¾ã›ã‚“",
        footer: "Generated by Chat Mock Generator (Unofficial)",
        alerts: {
          needInput: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ç”»åƒã®ã©ã¡ã‚‰ã‹ã‚’å…¥ã‚Œã¦ãã ã•ã„ã€‚",
          confirmClear: "å…¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ",
        },
        divider: (t)=> `â€” ${t} â€”`,
        readText: "æ—¢èª­",
        defaultPeerName: "ç›¸æ‰‹",

        // center templates text (JA fixed)
        centerTplToday: "ä»Šæ—¥",
        centerTplJoin: (t,name)=> `${t}\n${name}ãŒã‚°ãƒ«ãƒ¼ãƒ—ã«å‚åŠ ã—ã¾ã—ãŸã€‚`,
        centerTplLeave: (t,name)=> `${t}\n${name}ãŒé€€å‡ºã—ã¾ã—ãŸã€‚`,
      },
      en: {
        panelTitle: "Input",
        peerNameLabel: "Chat partner name",
        headerModeLabel: "Header style",
        headerModeBack: "< Name",
        headerModeAvatar: "Avatar + Name",
        rightAvatarToggleLabel: "Right avatar",
        toggleOff: "Off",
        toggleOn: "On",

        peerAvatarLabel: "Left avatar image",
        meAvatarLabel: "Right avatar image",

        senderLabel: "Sender",
        senderLeft: "Left (partner)",
        senderRight: "Right (me)",
        timeLabel: "Time (optional)",
        timePlaceholder: "e.g. 21:07",
        messageLabel: "Message",
        messagePlaceholder: "Type message (new lines OK)",
        imageLabel: "Image (optional)",
        readLabel: "Read receipt",
        readNone: "Hide",
        readShown: "Show (right only)",
        btnAdd: "Add",
        btnDivider: "Add time divider",
        btnClear: "Clear all",
        btnExport: "Export PNG",

        colorTitle: "Colors",
        bgColorLabel: "Background",
        leftBubbleLabel: "Left bubble",
        rightBubbleLabel: "Right bubble",
        leftTextLabel: "Left text",
        rightTextLabel: "Right text",

        bgOpt1: "Blue gray (#8CABD8)",
        bgOpt2: "Black (#000000)",
        bgOpt3: "White (#FFFFFF)",
        lbOpt1: "White (#FFFFFF)",
        lbOpt2: "Black (#000000)",
        rbOpt1: "Green (#9DE693)",
        rbOpt2: "White (#FFFFFF)",
        ltOpt1: "Black (#000000)",
        ltOpt2: "White (#FFFFFF)",
        rtOpt1: "Black (#000000)",
        rtOpt2: "White (#FFFFFF)",

        centerTitle: "Center label",
        centerLayoutLabel: "Layout",
        centerTemplateLabel: "Template",
        centerLayout1: "â‘  Semi-gray / White",
        centerLayout2: "â‘¡ Black / White",
        tpl1: "â‘  Today",
        tpl2: "â‘¡ Date (editable)",
        tpl3: "â‘¢ Joined",
        tpl4: "â‘£ Left",
        tpl5: "â‘¤ Free text",
        centerFreeLabel: "Free text",
        centerFreePh: "e.g. Today",
        centerDateLabel: "Date",
        centerTimeLabel: "Time",
        centerNameLabel: "Name",
        centerNamePh: "e.g. Alex",
        applyCenterBtn: "Add center label",
        clearCenterBtn: "Remove last center label",

        fileChoose: "Choose file",
        fileNone: "No file chosen",

        hint:
          "This is an unofficial chat-style mock. Do not use it for impersonation, fraud, or deceptive purposes.<br/>" +
          "Exports include a fixed watermark.",
        badge: "UNOFFICIAL MOCK",
        watermark: "UNOFFICIAL MOCK â€¢ SAMPLE â€¢ NOT A REAL APP SCREEN",
        footer: "Generated by Chat Mock Generator (Unofficial)",
        alerts: {
          needInput: "Please enter a message or choose an image.",
          confirmClear: "Clear all messages?",
        },
        divider: (t)=> `â€” ${t} â€”`,
        readText: "READ",
        defaultPeerName: "Chat Partner",

        // center templates text
        centerTplToday: "Today",
        centerTplJoin: (t,name)=> `${t}\n${name} joined the group.`,
        centerTplLeave: (t,name)=> `${t}\n${name} left the group.`,
      }
    };

    let currentLang = "ja";

    function applyI18n(lang){
      currentLang = lang;
      const dict = I18N[lang];

      // nodes
      document.querySelectorAll("[data-i18n]").forEach(node=>{
        const key = node.getAttribute("data-i18n");
        if(dict[key] != null) node.innerHTML = dict[key];
      });

      // placeholders
      document.querySelectorAll("[data-i18n-placeholder]").forEach(node=>{
        const key = node.getAttribute("data-i18n-placeholder");
        if(dict[key] != null) node.setAttribute("placeholder", dict[key]);
      });

      // watermark text
      el("watermark").textContent = dict.watermark;

      // peer name default only if not customized
      const pn = el("peerName");
      const view = el("peerNameView");
      const jaDefault = I18N.ja.defaultPeerName;
      const enDefault = I18N.en.defaultPeerName;
      const isDefault = (pn.value === jaDefault || pn.value === enDefault || pn.value.trim() === "");
      if(isDefault){
        pn.value = dict.defaultPeerName;
        view.textContent = dict.defaultPeerName;
      }

      // file labels
      document.querySelectorAll("[data-filebtn]").forEach(btn=>{
        btn.textContent = dict.fileChoose;
      });
      document.querySelectorAll("[data-filename]").forEach(span=>{
        const targetId = span.getAttribute("data-filename");
        const input = document.getElementById(targetId);
        if(!input || !input.files || input.files.length === 0){
          span.textContent = dict.fileNone;
        }
      });

      // toggle button label
      el("langToggle").textContent = (lang === "ja") ? "EN" : "æ—¥æœ¬èª";
    }

    el("langToggle").addEventListener("click", ()=>{
      applyI18n(currentLang === "ja" ? "en" : "ja");
    });
    applyI18n("ja");

    // ===== file wrap init =====
    function initFileWrap(id){
      const input = el(id);
      const btn = document.querySelector(`[data-filebtn="${id}"]`);
      const name = document.querySelector(`[data-filename="${id}"]`);
      if(!input || !btn || !name) return;

      btn.addEventListener("click", ()=> input.click());
      input.addEventListener("change", ()=>{
        if(input.files && input.files.length > 0){
          name.textContent = input.files[0].name;
        }else{
          name.textContent = I18N[currentLang].fileNone;
        }
      });
    }
    initFileWrap("peerAvatar");
    initFileWrap("meAvatar");
    initFileWrap("img");

    // ===== theme controls =====
    function setVar(name, value){
      document.documentElement.style.setProperty(name, value);
    }
    function applyThemeFromControls(){
      setVar("--chatSolid", el("bgColor").value);
      setVar("--bubbleLbg", el("leftBubble").value);
      setVar("--bubbleRbg", el("rightBubble").value);
      setVar("--bubbleLtext", el("leftText").value);
      setVar("--bubbleRtext", el("rightText").value);
    }
    ["bgColor","leftBubble","rightBubble","leftText","rightText"].forEach(id=>{
      el(id).addEventListener("change", applyThemeFromControls);
    });
    applyThemeFromControls();

    // ===== header mode =====
    function applyHeaderMode(){
      const mode = el("headerMode").value; // back / avatar
      const topbar = el("topbar");
      topbar.classList.remove("header-mode-back","header-mode-avatar");
      topbar.classList.add(mode === "back" ? "header-mode-back" : "header-mode-avatar");
    }
    el("headerMode").addEventListener("change", applyHeaderMode);
    applyHeaderMode();

    // ===== peer name binding =====
    el("peerName").addEventListener("input", ()=>{
      el("peerNameView").textContent = el("peerName").value || I18N[currentLang].defaultPeerName;
    });

    // ===== store avatar URLs =====
    let peerAvatarURL = "";
    let meAvatarURL = "";

    function setHeaderAvatar(fileInput, viewEl, which){
      fileInput.addEventListener("change", ()=>{
        const f = fileInput.files?.[0];
        if(!f){
          if(which==="peer"){ peerAvatarURL=""; viewEl.innerHTML=""; }
          if(which==="me"){ meAvatarURL=""; }
          return;
        }
        const url = URL.createObjectURL(f);
        if(which==="peer"){
          peerAvatarURL = url;
          viewEl.innerHTML = "";
          const img = document.createElement("img");
          img.src = url;
          viewEl.appendChild(img);
        }else if(which==="me"){
          meAvatarURL = url;
        }
      });
    }
    setHeaderAvatar(el("peerAvatar"), el("peerAvatarView"), "peer");
    setHeaderAvatar(el("meAvatar"), null, "me");

    // ===== message add / divider =====
    const chat = el("chat");
    let lastSide = null;

    function pad2(n){ return String(n).padStart(2,"0"); }
    function defaultTime(){
      const d = new Date();
      return `${pad2(d.getHours())}:${pad2(d.getMinutes())}`;
    }

    function makeMiniAvatar(side, isFirstInRun){
      const wrap = document.createElement("div");
      wrap.className = "miniAvatar";

      if(!isFirstInRun){
        wrap.classList.add("spacer");
        return wrap;
      }

      if(side === "left"){
        if(!peerAvatarURL){ wrap.classList.add("spacer"); return wrap; }
        const img = document.createElement("img");
        img.src = peerAvatarURL;
        wrap.appendChild(img);
        return wrap;
      }

      const show = (el("showRightAvatar").value === "on");
      if(!show || !meAvatarURL){ wrap.classList.add("spacer"); return wrap; }
      const img = document.createElement("img");
      img.src = meAvatarURL;
      wrap.appendChild(img);
      return wrap;
    }

    el("addDivider").addEventListener("click", ()=>{
      const div = document.createElement("div");
      div.style.textAlign = "center";
      div.style.margin = "14px 0 10px";
      div.style.fontSize = "11px";
      div.style.color = "rgba(0,0,0,.55)";
      div.style.letterSpacing = ".06em";
      div.style.fontWeight = "900";

      const t = (el("time").value || defaultTime()).trim();
      div.textContent = I18N[currentLang].divider(t);

      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
      lastSide = null;
    });

    el("add").addEventListener("click", ()=>{
      const side = el("side").value;
      const t = (el("time").value || defaultTime()).trim();
      const text = el("text").value.trim();
      const readMode = el("read").value;
      const imgFile = el("img").files?.[0];

      if(!text && !imgFile){
        alert(I18N[currentLang].alerts.needInput);
        return;
      }

      const isFirstInRun = (lastSide !== side);
      lastSide = side;

      const row = document.createElement("div");
      row.className = "msg " + side;

      const metaCol = document.createElement("div");
      metaCol.className = "metaCol";
      const read = document.createElement("div");
      read.className = "read";
      read.textContent = (side === "right" && readMode === "shown") ? I18N[currentLang].readText : "";
      const time = document.createElement("div");
      time.className = "time";
      time.textContent = t;
      metaCol.appendChild(read);
      metaCol.appendChild(time);

      const bubble = document.createElement("div");
      bubble.className = "bubble";

      if(text){
        const p = document.createElement("div");
        p.textContent = text;
        bubble.appendChild(p);
      }
      if(imgFile){
        const url = URL.createObjectURL(imgFile);
        const img = document.createElement("img");
        img.src = url;
        bubble.appendChild(img);
      }

      const miniAv = makeMiniAvatar(side, isFirstInRun);

      if(side === "left"){
        row.appendChild(miniAv);
        row.appendChild(bubble);
        row.appendChild(metaCol);
      }else{
        row.appendChild(metaCol);
        row.appendChild(bubble);
        row.appendChild(miniAv);
      }

      chat.appendChild(row);

      el("text").value = "";
      el("img").value = "";
      const imgName = document.querySelector('[data-filename="img"]');
      if(imgName) imgName.textContent = I18N[currentLang].fileNone;

      chat.scrollTop = chat.scrollHeight;
    });

    el("showRightAvatar").addEventListener("change", ()=>{ lastSide = null; });

    // ===== Center label (flow item) =====
    function weekdayJP(d){
      const w = ["æ—¥","æœˆ","ç«","æ°´","æœ¨","é‡‘","åœŸ"];
      return w[d.getDay()];
    }
    function formatJPDate(yyyy_mm_dd){
      if(!yyyy_mm_dd) return "";
      const [y,m,dd] = yyyy_mm_dd.split("-").map(Number);
      const d = new Date(y, m-1, dd);
      return `${m}æœˆ${dd}æ—¥(${weekdayJP(d)})`;
    }
    function formatENDate(yyyy_mm_dd){
      if(!yyyy_mm_dd) return "";
      const d = new Date(yyyy_mm_dd + "T00:00:00");
      const opts = { weekday:"short", year:"numeric", month:"short", day:"2-digit" };
      return d.toLocaleDateString("en-US", opts);
    }

    function showTemplateInputs(){
      const v = el("centerTemplate").value;
      el("tplFree").style.display  = (v==="5") ? "" : "none";
      el("tplDate").style.display  = (v==="2") ? "" : "none";
      el("tplJoin").style.display  = (v==="3") ? "" : "none";
      el("tplLeave").style.display = (v==="4") ? "" : "none";
    }
    el("centerTemplate").addEventListener("change", showTemplateInputs);
    showTemplateInputs();

    function buildCenterText(){
      const dict = I18N[currentLang];
      const tpl = el("centerTemplate").value;

      if(tpl === "1"){
        return dict.centerTplToday;
      }
      if(tpl === "2"){
        const v = el("centerDate").value;
        return currentLang === "ja" ? formatJPDate(v) : formatENDate(v);
      }
      if(tpl === "3"){
        const t = el("centerJoinTime").value || "??:??";
        const name = (el("centerJoinName").value || (currentLang==="ja" ? "â—‹â—‹" : "Someone")).trim();
        return dict.centerTplJoin(t, name);
      }
      if(tpl === "4"){
        const t = el("centerLeaveTime").value || "??:??";
        const name = (el("centerLeaveName").value || (currentLang==="ja" ? "â—‹â—‹" : "Someone")).trim();
        return dict.centerTplLeave(t, name);
      }
      return (el("centerFreeText").value || "").trim();
    }

    function addCenterLabel(){
      const text = buildCenterText();
      if(!text) return;

      const layout = el("centerLayout").value;
      const row = document.createElement("div");
      row.className = "centerRow";

      const pill = document.createElement("div");
      pill.className = "centerPill " + (layout === "2" ? "layout2" : "layout1");
      pill.textContent = text;

      row.appendChild(pill);
      chat.appendChild(row);

      chat.scrollTop = chat.scrollHeight;
      lastSide = null; // treat as break
    }

    function removeLastCenterLabel(){
      const rows = chat.querySelectorAll(".centerRow");
      if(rows.length === 0) return;
      rows[rows.length - 1].remove();
    }

    el("applyCenter").addEventListener("click", addCenterLabel);
    el("clearCenter").addEventListener("click", removeLastCenterLabel);

    // ===== Clear all =====
    el("clear").addEventListener("click", ()=>{
      if(confirm(I18N[currentLang].alerts.confirmClear)){
        chat.innerHTML = "";

        // reset file inputs + labels
        ["peerAvatar","meAvatar","img"].forEach(id=>{
          const inp = el(id);
          if(inp) inp.value = "";
          const name = document.querySelector(`[data-filename="${id}"]`);
          if(name) name.textContent = I18N[currentLang].fileNone;
        });

        peerAvatarURL = "";
        meAvatarURL = "";
        el("peerAvatarView").innerHTML = "";
        lastSide = null;
      }
    });

    // ===== Export PNG =====
    el("export").addEventListener("click", async ()=>{
      const target = el("capture");
      const canvas = await html2canvas(target, { backgroundColor: null, scale: 2 });
      const a = document.createElement("a");
      a.download = "chat-mock.png";
      a.href = canvas.toDataURL("image/png");
      a.click();
    });

    // defaults for template inputs
    (function initCenterDefaults(){
      const d = new Date();
      const yyyy = d.getFullYear();
      const mm = String(d.getMonth()+1).padStart(2,"0");
      const dd = String(d.getDate()).padStart(2,"0");
      el("centerDate").value = `${yyyy}-${mm}-${dd}`;

      const hh = String(d.getHours()).padStart(2,"0");
      const mi = String(d.getMinutes()).padStart(2,"0");
      el("centerJoinTime").value = `${hh}:${mi}`;
      el("centerLeaveTime").value = `${hh}:${mi}`;

      el("centerJoinName").value = "â—‹â—‹";
      el("centerLeaveName").value = "â—‹â—‹";
      el("centerFreeText").value = "";
    })();
  </script>

</body>

</html>








