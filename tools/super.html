<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é£Ÿå“ã¾ã¨ã‚è²·ã„æ¯”è¼ƒ | PocketPortal Tools</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Noto+Sans+JP:wght@400;700;900&display=swap');
        body { font-family: 'Inter', 'Noto Sans JP', sans-serif; }
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .win-card { border-color: #f59e0b !important; background-color: #fffbeb; box-shadow: 0 20px 25px -5px rgba(245, 158, 11, 0.1); }
    </style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9V96DZHTH1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-9V96DZHTH1');
    </script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6758339830570094" crossorigin="anonymous"></script>
</head>
<body class="bg-slate-50 text-slate-900 min-h-screen flex flex-col">

   <nav class="bg-white border-b border-slate-200 py-4 px-6 sticky top-0 z-50">
    <div class="container mx-auto flex justify-between items-center">
        <a href="../index.html" class="flex items-center gap-2 font-bold text-lg text-blue-700">
            <span>ğŸ </span> PocketPortal
        </a>
        <a href="./index.html" class="text-[10px] text-slate-400 hover:text-blue-500 transition-colors">Webä¾¿åˆ©ãƒ„ãƒ¼ãƒ«é›†ã¸</a>
    </div>
   </nav>

    <header class="bg-white border-b border-slate-100 py-8 px-6 text-center">
        <h1 class="text-2xl font-bold text-slate-800 mb-2 font-black">é£Ÿå“ã¾ã¨ã‚è²·ã„æ¯”è¼ƒ</h1>
        <p class="text-xs text-slate-500 font-medium">è¤‡é›‘ãªã€Œã‚»ãƒƒãƒˆå‰²å¼•ã€ã‚’è¨ˆç®—ã—ã¦ã€1å€‹ã‚ãŸã‚Šã®æœ€å®‰å€¤ã‚’åˆ¤å®š</p>
    </header>

    <main class="flex-grow container mx-auto py-10 px-4 max-w-7xl">
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
            <script>
                for(let i=1; i<=4; i++) {
                    const label = String.fromCharCode(64 + i);
                    document.write(`
                        <div id="card-${i}" class="bg-white p-5 rounded-[2.5rem] border-2 border-slate-100 transition-all duration-300 shadow-sm flex flex-col">
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">å€™è£œ ${label}</span>
                                <span id="win-${i}" class="hidden text-[10px] font-bold bg-amber-500 text-white px-2 py-1 rounded-full animate-bounce">æœ€å®‰å€¤ï¼</span>
                            </div>
                            
                            <div class="space-y-4 flex-grow">
                                <div>
                                    <label class="block text-[10px] font-bold text-slate-400 mb-1 ml-1">é€šå¸¸å˜ä¾¡ (å††)</label>
                                    <input type="number" id="base-price-${i}" oninput="calc()" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="150">
                                </div>
                                <div>
                                    <label class="block text-[10px] font-bold text-slate-400 mb-1 ml-1">è³¼å…¥äºˆå®šæ•°</label>
                                    <input type="number" id="count-${i}" oninput="calc()" class="w-full p-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold outline-none focus:ring-2 focus:ring-orange-500 transition-all" value="1">
                                </div>

                                <div class="bg-slate-50 p-3 rounded-2xl space-y-3 border border-slate-100">
                                    <p class="text-[8px] font-bold text-orange-500 tracking-widest uppercase text-center border-b border-orange-100 pb-1">ã¾ã¨ã‚è²·ã„æ¡ä»¶ï¼ˆã©ã‚Œã‹1ã¤ï¼‰</p>
                                    
                                    <div>
                                        <label class="text-[8px] text-slate-500 font-bold ml-1">â‘  ã€‡å€‹ä»¥ä¸Šã§1å€‹å˜ä¾¡ãŒå‰²å¼•</label>
                                        <div class="flex items-center gap-1 mt-1">
                                            <input type="number" id="cond1-n-${i}" oninput="calc()" class="w-12 p-2 bg-white border border-slate-200 rounded-lg text-xs font-bold" placeholder="3">
                                            <span class="text-[8px] font-bold text-slate-400">å€‹ã€œ</span>
                                            <input type="number" id="cond1-p-${i}" oninput="calc()" class="flex-1 p-2 bg-white border border-slate-200 rounded-lg text-xs font-bold" placeholder="130å††">
                                        </div>
                                    </div>

                                    <div>
                                        <label class="text-[8px] text-slate-500 font-bold ml-1">â‘¡ ã€‡å€‹ã¾ã¨ã‚å£²ã‚Šä¾¡æ ¼</label>
                                        <div class="flex items-center gap-1 mt-1">
                                            <input type="number" id="cond2-n-${i}" oninput="calc()" class="w-12 p-2 bg-white border border-slate-200 rounded-lg text-xs font-bold" placeholder="2">
                                            <span class="text-[8px] font-bold text-slate-400">å€‹ã§</span>
                                            <input type="number" id="cond2-p-${i}" oninput="calc()" class="flex-1 p-2 bg-white border border-slate-200 rounded-lg text-xs font-bold" placeholder="500å††">
                                        </div>
                                    </div>

                                    <div>
                                        <label class="text-[8px] text-slate-500 font-bold ml-1">â‘¢ ã€‡å€‹è²·ã†ã¨åˆè¨ˆã‹ã‚‰å‰²å¼•</label>
                                        <div class="flex items-center gap-1 mt-1">
                                            <input type="number" id="cond3-n-${i}" oninput="calc()" class="w-12 p-2 bg-white border border-slate-200 rounded-lg text-xs font-bold" placeholder="2">
                                            <span class="text-[8px] font-bold text-slate-400">å€‹ã§</span>
                                            <input type="number" id="cond3-p-${i}" oninput="calc()" class="flex-1 p-2 bg-white border border-slate-200 rounded-lg text-xs font-bold" placeholder="50å††å¼•ã">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-6 pt-4 border-t border-dashed border-slate-200 text-center">
                                <p class="text-[9px] text-slate-400 mb-1">åˆè¨ˆæ”¯æ‰•é¡: <span id="total-pay-${i}" class="font-bold text-slate-600">0</span>å††</p>
                                <div class="flex flex-col items-center">
                                    <p class="text-[9px] font-bold text-slate-400 uppercase tracking-tighter">å®Ÿè³ª 1å€‹ã‚ãŸã‚Š</p>
                                    <div class="text-xl font-black text-slate-800 tracking-tighter"><span id="unit-${i}">---</span><span class="text-xs ml-0.5 font-bold">å††</span></div>
                                </div>
                            </div>
                        </div>
                    `);
                }
            </script>
        </div>

        <div class="max-w-xl mx-auto space-y-4">
            <button onclick="clearAll()" class="w-full py-4 bg-white border border-slate-200 text-slate-400 rounded-2xl text-xs font-bold hover:bg-slate-50 transition-all active:scale-95 shadow-sm">
                å…¥åŠ›ã‚’ã™ã¹ã¦ãƒªã‚»ãƒƒãƒˆ
            </button>

            <div class="p-6 bg-slate-900 rounded-[2.5rem] text-white shadow-xl">
                <h3 class="text-xs font-bold text-orange-400 uppercase tracking-widest mb-4">ğŸ’¡ ä½¿ã„æ–¹ãƒ»è¨ˆç®—ãƒ«ãƒ¼ãƒ«</h3>
                <ul class="text-[10px] text-slate-400 space-y-3 leading-relaxed">
                    <li>â€¢ <span class="text-white font-bold">â‘  ã€‡å€‹ä»¥ä¸Šã€œï¼š</span> 3å€‹ä»¥ä¸Šè²·ã£ãŸã‚‰1å€‹ã‚ãŸã‚ŠãŒå®‰ããªã‚‹å ´åˆã«ã€‚</li>
                    <li>â€¢ <span class="text-white font-bold">â‘¡ ã€‡å€‹ã§ã€‡å††ï¼š</span> 2å€‹ã§500å††ï¼ˆ1å€‹ãªã‚‰300å††ï¼‰ã¨ã„ã£ãŸã‚»ãƒƒãƒˆè²©å£²ã«ã€‚</li>
                    <li>â€¢ <span class="text-white font-bold">â‘¢ ã€‡å€‹ã§ã€‡å††å¼•ãï¼š</span> 2å€‹è²·ã†ã¨ãƒ¬ã‚¸ã§åˆè¨ˆã‹ã‚‰50å††å¼•ã‹ã‚Œã‚‹å ´åˆã«ã€‚</li>
                    <li class="bg-slate-800 p-2 rounded-lg">â€¢ æ¡ä»¶ã‚’è¤‡æ•°å…¥åŠ›ã—ãŸå ´åˆã€ã‚‚ã£ã¨ã‚‚å®‰ããªã‚‹æ¡ä»¶ãŒè‡ªå‹•ã§å„ªå…ˆé©ç”¨ã•ã‚Œã¾ã™ã€‚</li>
                </ul>
            </div>
        </div>
                    <div class="w-full flex flex-col items-center mt-8">
            <p class="text-[10px] text-slate-400 mb-2 font-bold uppercase tracking-widest">Sponsor Link</p>
            <div class="bg-white p-1 rounded shadow-sm">
                <script type="text/javascript">rakuten_design="slide";rakuten_affiliateId="022cbf82.9ae811c1.06d2eb59.bd2a4ff3";rakuten_items="ctsmatch";rakuten_genreId="0";rakuten_size="300x250";rakuten_target="_blank";rakuten_theme="gray";rakuten_border="off";rakuten_auto_mode="on";rakuten_genre_title="off";rakuten_recommend="on";rakuten_ts="1770128068587";</script><script type="text/javascript" src="https://xml.affiliate.rakuten.co.jp/widget/js/rakuten_widget.js?20230106"></script>
                </div>
        </div>
    </main>

    <footer class="py-10 text-center text-slate-400 text-[10px]">
        <p>Â© 2026 PocketPortal Tools</p>
    </footer>

    <script>
        function calc() {
            const results = [];

            for (let i = 1; i <= 4; i++) {
                const basePrice = parseFloat(document.getElementById(`base-price-${i}`).value) || 0;
                const count = parseFloat(document.getElementById(`count-${i}`).value) || 0;
                
                // å„æ¡ä»¶ã®å–å¾—
                const c1n = parseFloat(document.getElementById(`cond1-n-${i}`).value) || 0;
                const c1p = parseFloat(document.getElementById(`cond1-p-${i}`).value) || 0;
                
                const c2n = parseFloat(document.getElementById(`cond2-n-${i}`).value) || 0;
                const c2p = parseFloat(document.getElementById(`cond2-p-${i}`).value) || 0;
                
                const c3n = parseFloat(document.getElementById(`cond3-n-${i}`).value) || 0;
                const c3p = parseFloat(document.getElementById(`cond3-p-${i}`).value) || 0;

                const card = document.getElementById(`card-${i}`);
                const win = document.getElementById(`win-${i}`);

                // è¡¨ç¤ºãƒªã‚»ãƒƒãƒˆ
                card.classList.remove('win-card', 'ring-2', 'ring-amber-200');
                card.classList.add('border-slate-100');
                win.classList.add('hidden');

                if (basePrice > 0 && count > 0) {
                    // é€šå¸¸ä¾¡æ ¼ï¼ˆå‰²å¼•ãªã—ï¼‰
                    let total = basePrice * count;

                    // æ¡ä»¶â‘  ã€‡å€‹ä»¥ä¸Šã§å˜ä¾¡ãŒå¤‰ã‚ã‚‹
                    if (c1n > 0 && c1p > 0 && count >= c1n) {
                        total = Math.min(total, c1p * count);
                    }

                    // æ¡ä»¶â‘¡ ã€‡å€‹ã§ã‚»ãƒƒãƒˆä¾¡æ ¼
                    if (c2n > 0 && c2p > 0 && count >= c2n) {
                        const setGroup = Math.floor(count / c2n);
                        const remainder = count % c2n;
                        const setTotalPrice = (setGroup * c2p) + (remainder * basePrice);
                        total = Math.min(total, setTotalPrice);
                    }

                    // æ¡ä»¶â‘¢ ã€‡å€‹ã§åˆè¨ˆã‹ã‚‰å‰²å¼•
                    if (c3n > 0 && c3p > 0 && count >= c3n) {
                        const setGroup = Math.floor(count / c3n);
                        const discountTotal = total - (setGroup * c3p);
                        total = Math.min(total, discountTotal);
                    }

                    const unitPrice = total / count;

                    // è¡¨ç¤ºæ›´æ–°
                    document.getElementById(`total-pay-${i}`).innerText = Math.floor(total).toLocaleString();
                    document.getElementById(`unit-${i}`).innerText = unitPrice.toFixed(1);
                    
                    results.push({ id: i, value: unitPrice });
                } else {
                    document.getElementById(`unit-${i}`).innerText = "---";
                    document.getElementById(`total-pay-${i}`).innerText = "0";
                }
            }

            // æœ€å®‰å€¤åˆ¤å®š
            if (results.length >= 2) {
                const winner = results.reduce((prev, curr) => (prev.value < curr.value) ? prev : curr);
                document.getElementById(`card-${winner.id}`).classList.add('win-card', 'ring-2', 'ring-amber-200');
                document.getElementById(`card-${winner.id}`).classList.remove('border-slate-100');
                document.getElementById(`win-${winner.id}`).classList.remove('hidden');
            }
        }

        function clearAll() {
            for (let i = 1; i <= 4; i++) {
                document.getElementById(`base-price-${i}`).value = '';
                document.getElementById(`count-${i}`).value = '1';
                document.getElementById(`cond1-n-${i}`).value = '';
                document.getElementById(`cond1-p-${i}`).value = '';
                document.getElementById(`cond2-n-${i}`).value = '';
                document.getElementById(`cond2-p-${i}`).value = '';
                document.getElementById(`cond3-n-${i}`).value = '';
                document.getElementById(`cond3-p-${i}`).value = '';
            }
            calc();
        }
    </script>

</body>

</html>




